{
  "id": "example_020",
  "description": "Complex: Multiple semantic issues in one function",
  "code": "// Calculates and returns the average of positive numbers\nint processNumbers(std::vector<int>& numbers) {\n    int sum = 0;\n    for (int i = 0; i <= numbers.size(); i++) {  // Off-by-one\n        if (numbers[i] < 0) {  // Checks negative, not positive\n            sum += numbers[i];\n        }\n    }\n    return sum / numbers.size();  // Integer division + no empty check\n}",
  "file_path": "complex_semantic_issues.cpp",
  "expected_issues": [
    {
      "category": "logic-errors",
      "severity": "critical",
      "line": 4,
      "description": "Off-by-one error: i <= numbers.size() causes out-of-bounds access",
      "reasoning": "Loop uses <= instead of <, causing i to reach numbers.size() which is out of bounds. Valid indices are 0 to size()-1."
    },
    {
      "category": "semantic-inconsistency",
      "severity": "high",
      "line": 5,
      "description": "Comment says positive but code checks for negative",
      "reasoning": "Comment on line 1 says 'average of positive numbers' but condition checks 'numbers[i] < 0' which selects negative numbers."
    },
    {
      "category": "edge-case-handling",
      "severity": "critical",
      "line": 9,
      "description": "Division by zero if vector is empty",
      "reasoning": "No check for empty vector before dividing by numbers.size(). If empty, division by zero occurs."
    }
  ]
}
