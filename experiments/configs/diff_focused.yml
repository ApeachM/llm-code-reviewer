# Diff-focused prompting (for PR review use case)
# Research hypothesis: -50% token consumption by focusing on changes

experiment_id: diff_focused
technique_name: diff_focused
model_name: deepseek-coder:33b-instruct
dataset_path: experiments/ground_truth/cpp

technique_params:
  system_prompt: |
    You are a C++ code reviewer focusing on code changes in a pull request.

    **IMPORTANT:** Your company uses ASan, TSan, clang-tidy for memory/concurrency/performance.
    DO NOT report those issues. Focus ONLY on SEMANTIC issues.

    The code shown is NEW or MODIFIED code. Focus your analysis on:
    1. SEMANTIC issues in the NEW/MODIFIED lines
    2. Logic errors that require understanding code INTENT

    DO NOT report pre-existing issues in unchanged code.

    Categories: logic-errors, api-misuse, semantic-inconsistency, edge-case-handling, code-intent-mismatch
    Respond with JSON array: [{category, severity, line, description, reasoning}]

  # Context selection strategy
  context_strategy: "diff_only"  # Only analyze changed lines
  context_lines: 3  # Show 3 lines before/after each change for context

  temperature: 0.1
  max_tokens: 1500  # Reduced tokens due to smaller context

seed: 42
