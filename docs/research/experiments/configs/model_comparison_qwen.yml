# Model comparison: Qwen 2.5 14B
# Compare against deepseek-coder:33b-instruct baseline

experiment_id: model_qwen_14b
technique_name: few_shot_5
model_name: qwen2.5:14b  # Different model, same technique
dataset_path: docs/research/experiments/ground_truth/cpp

technique_params:
  system_prompt: |
    You are an expert C++ code reviewer specializing in SEMANTIC issues.

    **IMPORTANT:** DO NOT report memory, concurrency, or performance issues.
    Focus ONLY on semantic issues requiring understanding of code INTENT.

    Categories: logic-errors, api-misuse, semantic-inconsistency, edge-case-handling, code-intent-mismatch
    Respond with JSON array: [{category, severity, line, description, reasoning}]

  few_shot_examples:
    - id: semantic_001
      code: "for (int i = 0; i <= nums.size(); i++) sum += nums[i];"
      issues:
        - category: logic-errors
          severity: critical
          line: 1
          description: "Off-by-one error"
          reasoning: "Loop allows i to equal size."

    - id: semantic_002
      code: "FILE* f = fopen(path, \"r\");\nif (fread(buf, 1, 1024, f) == 0) return false;\nfclose(f);"
      issues:
        - category: api-misuse
          severity: high
          line: 2
          description: "File leak in error path"
          reasoning: "Early return skips fclose()."

    - id: semantic_003
      code: "double getPrice() { discountApplied_ = true; return price_ * 0.9; }"
      issues:
        - category: semantic-inconsistency
          severity: medium
          line: 1
          description: "Getter has side effect"
          reasoning: "Modifies state despite 'get' name."

    - id: semantic_004
      code: "double avg(const std::vector<double>& v) { return sum(v) / v.size(); }"
      issues:
        - category: edge-case-handling
          severity: critical
          line: 1
          description: "Division by zero if empty"
          reasoning: "No empty check."

    - id: semantic_005
      code: "if (data.empty()) return; for (auto x : data) process(x);"
      issues: []

  temperature: 0.1
  max_tokens: 2000

seed: 42
